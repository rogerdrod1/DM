import{r as f,b as us}from"./vendor-54c56471.js";import{$ as ms,T as ge,a as gs,M as ps,P as Re,S as Ke,b as hs,u as oe,c as Je,C as Ge,E as We,d as xs,A as fs,U as fe,X as we,F as bs,D as qe,e as vs,f as js,g as xe,h as He,i as ye,j as be,B as ws,k as ys,l as Ns,m as Ds,L as Ss,n as Cs,o as ks,p as Ms,R as Rs}from"./ui-c3b1a433.js";import{c as Ye,R as Ie,B as Is,C as Ue,X as Te,Y as he,T as Ae,L as _e,a as Oe,b as Us,d as Fe}from"./charts-051634d2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Xe={exports:{}},ve={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=f,As=Symbol.for("react.element"),_s=Symbol.for("react.fragment"),Os=Object.prototype.hasOwnProperty,Fs=Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ps={key:!0,ref:!0,__self:!0,__source:!0};function Ze(r,s,t){var a,o={},l=null,n=null;t!==void 0&&(l=""+t),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(n=s.ref);for(a in s)Os.call(s,a)&&!Ps.hasOwnProperty(a)&&(o[a]=s[a]);if(r&&r.defaultProps)for(a in s=r.defaultProps,s)o[a]===void 0&&(o[a]=s[a]);return{$$typeof:As,type:r,key:l,ref:n,props:o,_owner:Fs.current}}ve.Fragment=_s;ve.jsx=Ze;ve.jsxs=Ze;Xe.exports=ve;var e=Xe.exports,Qe,Pe=us;Qe=Pe.createRoot,Pe.hydrateRoot;const De="-",Ls=r=>{const s=Es(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:n=>{const i=n.split(De);return i[0]===""&&i.length!==1&&i.shift(),es(i,s)||Bs(n)},getConflictingClassGroupIds:(n,i)=>{const m=t[n]||[];return i&&a[n]?[...m,...a[n]]:m}}},es=(r,s)=>{var n;if(r.length===0)return s.classGroupId;const t=r[0],a=s.nextPart.get(t),o=a?es(r.slice(1),a):void 0;if(o)return o;if(s.validators.length===0)return;const l=r.join(De);return(n=s.validators.find(({validator:i})=>i(l)))==null?void 0:n.classGroupId},Le=/^\[(.+)\]$/,Bs=r=>{if(Le.test(r)){const s=Le.exec(r)[1],t=s==null?void 0:s.substring(0,s.indexOf(":"));if(t)return"arbitrary.."+t}},Es=r=>{const{theme:s,prefix:t}=r,a={nextPart:new Map,validators:[]};return $s(Object.entries(r.classGroups),t).forEach(([l,n])=>{Ne(n,a,l,s)}),a},Ne=(r,s,t,a)=>{r.forEach(o=>{if(typeof o=="string"){const l=o===""?s:Be(s,o);l.classGroupId=t;return}if(typeof o=="function"){if(zs(o)){Ne(o(a),s,t,a);return}s.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,n])=>{Ne(n,Be(s,l),t,a)})})},Be=(r,s)=>{let t=r;return s.split(De).forEach(a=>{t.nextPart.has(a)||t.nextPart.set(a,{nextPart:new Map,validators:[]}),t=t.nextPart.get(a)}),t},zs=r=>r.isThemeGetter,$s=(r,s)=>s?r.map(([t,a])=>{const o=a.map(l=>typeof l=="string"?s+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([n,i])=>[s+n,i])):l);return[t,o]}):r,Vs=r=>{if(r<1)return{get:()=>{},set:()=>{}};let s=0,t=new Map,a=new Map;const o=(l,n)=>{t.set(l,n),s++,s>r&&(s=0,a=t,t=new Map)};return{get(l){let n=t.get(l);if(n!==void 0)return n;if((n=a.get(l))!==void 0)return o(l,n),n},set(l,n){t.has(l)?t.set(l,n):o(l,n)}}},ss="!",Ks=r=>{const{separator:s,experimentalParseClassName:t}=r,a=s.length===1,o=s[0],l=s.length,n=i=>{const m=[];let d=0,u=0,b;for(let y=0;y<i.length;y++){let I=i[y];if(d===0){if(I===o&&(a||i.slice(y,y+l)===s)){m.push(i.slice(u,y)),u=y+l;continue}if(I==="/"){b=y;continue}}I==="["?d++:I==="]"&&d--}const D=m.length===0?i:i.substring(u),x=D.startsWith(ss),h=x?D.substring(1):D,w=b&&b>u?b-u:void 0;return{modifiers:m,hasImportantModifier:x,baseClassName:h,maybePostfixModifierPosition:w}};return t?i=>t({className:i,parseClassName:n}):n},Js=r=>{if(r.length<=1)return r;const s=[];let t=[];return r.forEach(a=>{a[0]==="["?(s.push(...t.sort(),a),t=[]):t.push(a)}),s.push(...t.sort()),s},Gs=r=>({cache:Vs(r.cacheSize),parseClassName:Ks(r),...Ls(r)}),Ws=/\s+/,qs=(r,s)=>{const{parseClassName:t,getClassGroupId:a,getConflictingClassGroupIds:o}=s,l=[],n=r.trim().split(Ws);let i="";for(let m=n.length-1;m>=0;m-=1){const d=n[m],{modifiers:u,hasImportantModifier:b,baseClassName:D,maybePostfixModifierPosition:x}=t(d);let h=!!x,w=a(h?D.substring(0,x):D);if(!w){if(!h){i=d+(i.length>0?" "+i:i);continue}if(w=a(D),!w){i=d+(i.length>0?" "+i:i);continue}h=!1}const y=Js(u).join(":"),I=b?y+ss:y,F=I+w;if(l.includes(F))continue;l.push(F);const K=o(w,h);for(let k=0;k<K.length;++k){const T=K[k];l.push(I+T)}i=d+(i.length>0?" "+i:i)}return i};function Hs(){let r=0,s,t,a="";for(;r<arguments.length;)(s=arguments[r++])&&(t=ts(s))&&(a&&(a+=" "),a+=t);return a}const ts=r=>{if(typeof r=="string")return r;let s,t="";for(let a=0;a<r.length;a++)r[a]&&(s=ts(r[a]))&&(t&&(t+=" "),t+=s);return t};function Ys(r,...s){let t,a,o,l=n;function n(m){const d=s.reduce((u,b)=>b(u),r());return t=Gs(d),a=t.cache.get,o=t.cache.set,l=i,i(m)}function i(m){const d=a(m);if(d)return d;const u=qs(m,t);return o(m,u),u}return function(){return l(Hs.apply(null,arguments))}}const _=r=>{const s=t=>t[r]||[];return s.isThemeGetter=!0,s},rs=/^\[(?:([a-z-]+):)?(.+)\]$/i,Xs=/^\d+\/\d+$/,Zs=new Set(["px","full","screen"]),Qs=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,et=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,st=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,se=r=>le(r)||Zs.has(r)||Xs.test(r),te=r=>ie(r,"length",ut),le=r=>!!r&&!Number.isNaN(Number(r)),je=r=>ie(r,"number",le),de=r=>!!r&&Number.isInteger(Number(r)),at=r=>r.endsWith("%")&&le(r.slice(0,-1)),R=r=>rs.test(r),re=r=>Qs.test(r),nt=new Set(["length","size","percentage"]),ot=r=>ie(r,nt,as),lt=r=>ie(r,"position",as),it=new Set(["image","url"]),ct=r=>ie(r,it,gt),dt=r=>ie(r,"",mt),ue=()=>!0,ie=(r,s,t)=>{const a=rs.exec(r);return a?a[1]?typeof s=="string"?a[1]===s:s.has(a[1]):t(a[2]):!1},ut=r=>et.test(r)&&!st.test(r),as=()=>!1,mt=r=>tt.test(r),gt=r=>rt.test(r),pt=()=>{const r=_("colors"),s=_("spacing"),t=_("blur"),a=_("brightness"),o=_("borderColor"),l=_("borderRadius"),n=_("borderSpacing"),i=_("borderWidth"),m=_("contrast"),d=_("grayscale"),u=_("hueRotate"),b=_("invert"),D=_("gap"),x=_("gradientColorStops"),h=_("gradientColorStopPositions"),w=_("inset"),y=_("margin"),I=_("opacity"),F=_("padding"),K=_("saturate"),k=_("scale"),T=_("sepia"),C=_("skew"),S=_("space"),O=_("translate"),E=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",R,s],c=()=>[R,s],g=()=>["",se,te],j=()=>["auto",le,R],v=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",R],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[le,R];return{cacheSize:500,separator:":",theme:{colors:[ue],spacing:[se,te],blur:["none","",re,R],brightness:Q(),borderColor:[r],borderRadius:["none","","full",re,R],borderSpacing:c(),borderWidth:g(),contrast:Q(),grayscale:X(),hueRotate:Q(),invert:X(),gap:c(),gradientColorStops:[r],gradientColorStopPositions:[at,te],inset:A(),margin:A(),opacity:Q(),padding:c(),saturate:Q(),scale:Q(),sepia:X(),skew:Q(),space:c(),translate:c()},classGroups:{aspect:[{aspect:["auto","square","video",R]}],container:["container"],columns:[{columns:[re]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...v(),R]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",de,R]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",R]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",de,R]}],"grid-cols":[{"grid-cols":[ue]}],"col-start-end":[{col:["auto",{span:["full",de,R]},R]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[ue]}],"row-start-end":[{row:["auto",{span:[de,R]},R]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",R]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",R]}],gap:[{gap:[D]}],"gap-x":[{"gap-x":[D]}],"gap-y":[{"gap-y":[D]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",R,s]}],"min-w":[{"min-w":[R,s,"min","max","fit"]}],"max-w":[{"max-w":[R,s,"none","full","min","max","fit","prose",{screen:[re]},re]}],h:[{h:[R,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[R,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[R,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[R,s,"auto","min","max","fit"]}],"font-size":[{text:["base",re,te]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",je]}],"font-family":[{font:[ue]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",R]}],"line-clamp":[{"line-clamp":["none",le,je]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",se,R]}],"list-image":[{"list-image":["none",R]}],"list-style-type":[{list:["none","disc","decimal",R]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[I]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[I]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",se,te]}],"underline-offset":[{"underline-offset":["auto",se,R]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:c()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[I]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...v(),lt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ot]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ct]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[I]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[I]}],"divide-style":[{divide:V()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[se,R]}],"outline-w":[{outline:[se,te]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:g()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[I]}],"ring-offset-w":[{"ring-offset":[se,te]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",re,dt]}],"shadow-color":[{shadow:[ue]}],opacity:[{opacity:[I]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[a]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",re,R]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[b]}],saturate:[{saturate:[K]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[I]}],"backdrop-saturate":[{"backdrop-saturate":[K]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[n]}],"border-spacing-x":[{"border-spacing-x":[n]}],"border-spacing-y":[{"border-spacing-y":[n]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",R]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",R]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",R]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[de,R]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",R]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",R]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":c()}],"scroll-mx":[{"scroll-mx":c()}],"scroll-my":[{"scroll-my":c()}],"scroll-ms":[{"scroll-ms":c()}],"scroll-me":[{"scroll-me":c()}],"scroll-mt":[{"scroll-mt":c()}],"scroll-mr":[{"scroll-mr":c()}],"scroll-mb":[{"scroll-mb":c()}],"scroll-ml":[{"scroll-ml":c()}],"scroll-p":[{"scroll-p":c()}],"scroll-px":[{"scroll-px":c()}],"scroll-py":[{"scroll-py":c()}],"scroll-ps":[{"scroll-ps":c()}],"scroll-pe":[{"scroll-pe":c()}],"scroll-pt":[{"scroll-pt":c()}],"scroll-pr":[{"scroll-pr":c()}],"scroll-pb":[{"scroll-pb":c()}],"scroll-pl":[{"scroll-pl":c()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",R]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[se,te,je]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ht=Ys(pt);function z(...r){return ht(Ye(r))}const xt=({className:r,...s})=>e.jsx(ms,{className:z("toaster group",r),toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s}),ns=f.createContext(),ft=()=>{const r=f.useContext(ns);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},bt=({children:r})=>{const[s,t]=f.useState(()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});f.useEffect(()=>{localStorage.setItem("theme",s);const o=document.documentElement;s==="dark"?o.classList.add("dark"):o.classList.remove("dark")},[s]);const a=()=>{t(o=>o==="light"?"dark":"light")};return e.jsx(ns.Provider,{value:{theme:s,toggleTheme:a},children:r})};const P=f.forwardRef(({className:r,...s},t)=>e.jsx("div",{ref:t,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s}));P.displayName="Card";const H=f.forwardRef(({className:r,...s},t)=>e.jsx("div",{ref:t,className:z("flex flex-col space-y-1.5 p-6",r),...s}));H.displayName="CardHeader";const Y=f.forwardRef(({className:r,...s},t)=>e.jsx("h3",{ref:t,className:z("text-2xl font-semibold leading-none tracking-tight",r),...s}));Y.displayName="CardTitle";const vt=f.forwardRef(({className:r,...s},t)=>e.jsx("p",{ref:t,className:z("text-sm text-muted-foreground",r),...s}));vt.displayName="CardDescription";const L=f.forwardRef(({className:r,...s},t)=>e.jsx("div",{ref:t,className:z("p-6 pt-0",r),...s}));L.displayName="CardContent";const jt=f.forwardRef(({className:r,...s},t)=>e.jsx("div",{ref:t,className:z("flex items-center p-6 pt-0",r),...s}));jt.displayName="CardFooter";const Ee=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,ze=Ye,Se=(r,s)=>t=>{var a;if((s==null?void 0:s.variants)==null)return ze(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:l}=s,n=Object.keys(o).map(d=>{const u=t==null?void 0:t[d],b=l==null?void 0:l[d];if(u===null)return null;const D=Ee(u)||Ee(b);return o[d][D]}),i=t&&Object.entries(t).reduce((d,u)=>{let[b,D]=u;return D===void 0||(d[b]=D),d},{}),m=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:b,className:D,...x}=u;return Object.entries(x).every(h=>{let[w,y]=h;return Array.isArray(y)?y.includes({...l,...i}[w]):{...l,...i}[w]===y})?[...d,b,D]:d},[]);return ze(r,n,m,t==null?void 0:t.class,t==null?void 0:t.className)},wt=Se("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),U=f.forwardRef(({className:r,variant:s,size:t,...a},o)=>e.jsx("button",{className:z(wt({variant:s,size:t,className:r})),ref:o,...a}));U.displayName="Button";const Z=({title:r,value:s,previousValue:t,format:a="number",icon:o,trend:l=null,subtitle:n=null})=>{const i=h=>a==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h):a==="percentage"?`${parseFloat(h).toFixed(2)}%`:a==="decimal"?parseFloat(h).toFixed(2):new Intl.NumberFormat("en-US").format(h),d=(()=>!t||t===0?null:((s-t)/t*100).toFixed(1))(),u=d>0,b=d<0,D=()=>u?e.jsx(ge,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):b?e.jsx(gs,{className:"h-4 w-4 text-red-600 dark:text-red-400"}):e.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}),x=()=>u?"text-green-600 dark:text-green-400":b?"text-red-600 dark:text-red-400":"text-muted-foreground";return e.jsxs(P,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(H,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(Y,{className:"text-sm font-medium text-muted-foreground",children:r}),o&&e.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i(s)}),n&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),d!==null&&e.jsxs("div",{className:`flex items-center text-xs mt-2 ${x()}`,children:[D(),e.jsxs("span",{className:"ml-1",children:[Math.abs(d),"% from last period"]})]}),l&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l})]})]})},G=f.forwardRef(({className:r,type:s,...t},a)=>e.jsx("input",{type:s,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:a,...t}));G.displayName="Input";const Ce=f.forwardRef(({className:r,...s},t)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:t,className:z("w-full caption-bottom text-sm",r),...s})}));Ce.displayName="Table";const ke=f.forwardRef(({className:r,...s},t)=>e.jsx("thead",{ref:t,className:z("[&_tr]:border-b",r),...s}));ke.displayName="TableHeader";const Me=f.forwardRef(({className:r,...s},t)=>e.jsx("tbody",{ref:t,className:z("[&_tr:last-child]:border-0",r),...s}));Me.displayName="TableBody";const yt=f.forwardRef(({className:r,...s},t)=>e.jsx("tfoot",{ref:t,className:z("bg-primary font-medium text-primary-foreground",r),...s}));yt.displayName="TableFooter";const pe=f.forwardRef(({className:r,...s},t)=>e.jsx("tr",{ref:t,className:z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s}));pe.displayName="TableRow";const q=f.forwardRef(({className:r,...s},t)=>e.jsx("th",{ref:t,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s}));q.displayName="TableHead";const $=f.forwardRef(({className:r,...s},t)=>e.jsx("td",{ref:t,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s}));$.displayName="TableCell";const Nt=f.forwardRef(({className:r,...s},t)=>e.jsx("caption",{ref:t,className:z("mt-4 text-sm text-muted-foreground",r),...s}));Nt.displayName="TableCaption";const Dt=({data:r,onDataUpdate:s,title:t="Manual Entry Data"})=>{const[a,o]=f.useState(new Set),[l,n]=f.useState({}),[i,m]=f.useState("date"),[d,u]=f.useState("desc"),[b,D]=f.useState(null),x=f.useRef(null);f.useEffect(()=>{const c=g=>{x.current&&!x.current.contains(g.target)&&a.size>0&&(o(new Set),n({}))};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[a.size]);const w=[...r.filter(c=>c.meetings>0||c.shows>0||c.offersMade>0||c.closes>0||c.cashCollected>0||c.revenue>0)].sort((c,g)=>{const j=c[i]||0,v=g[i]||0;return i==="date"?d==="asc"?new Date(j)-new Date(v):new Date(v)-new Date(j):d==="asc"?j-v:v-j}),y=c=>{i===c?u(g=>g==="asc"?"desc":"asc"):(m(c),u("desc"))},I=c=>{const g=r.find(j=>j.date===c);g&&(o(j=>new Set([...j,c])),n(j=>({...j,[c]:{meetings:g.meetings||0,shows:g.shows||0,offersMade:g.offersMade||0,closes:g.closes||0,cashCollected:g.cashCollected||0,revenue:g.revenue||g.totalRevenue||0}})))},F=c=>{o(g=>{const j=new Set(g);return j.delete(c),j}),n(g=>{const j={...g};return delete j[c],j})},K=c=>{D(c)},k=()=>{const c=b;if(!c)return;s&&s({date:c,meetings:0,shows:0,offersMade:0,closes:0,cashCollected:0,revenue:0,totalRevenue:0,newRevenue:0,recurringRevenue:0,isEdit:!0,isDelete:!0}),D(null),oe.success("Record deleted successfully!")},T=()=>{D(null)},C=c=>{const g=l[c];if(!g)return;const j=parseFloat(g.cashCollected)||0,v=parseFloat(g.revenue)||0;if(j>v&&v>0){oe.error("Cash collected cannot exceed total revenue");return}const V={date:c,meetings:parseInt(g.meetings)||0,shows:parseInt(g.shows)||0,offersMade:parseInt(g.offersMade)||0,closes:parseInt(g.closes)||0,cashCollected:parseFloat(g.cashCollected)||0,revenue:parseFloat(g.revenue)||0,totalRevenue:parseFloat(g.revenue)||0,newRevenue:parseFloat(g.revenue)||0,recurringRevenue:0,isEdit:!0};s&&s(V),F(c),oe.success("Data updated successfully!")},S=(c,g,j)=>{n(v=>({...v,[c]:{...v[c],[g]:j}}))},O=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c||0),E=c=>new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),M=c=>i!==c?"":d==="asc"?" ↑":" ↓",A=(c,g,j)=>{var V;if(j){const ee=((V=l[c.date])==null?void 0:V[g])||"",J=g==="cashCollected"||g==="revenue";return e.jsx(G,{type:"number",min:"0",step:J?"0.01":"1",value:ee,onChange:X=>S(c.date,g,X.target.value),className:"w-20 h-8 text-xs"})}const v=c[g]||0;return g==="cashCollected"||g==="revenue"?O(v):v};return e.jsxs(P,{children:[e.jsxs(H,{children:[e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5 text-muted-foreground"}),t]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Editable table showing all manual data entries. Click Edit to modify values."})]}),e.jsxs(L,{children:[w.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"No manual data entries found."}),e.jsx("p",{className:"text-xs mt-1",children:"Add data using the Manual Data Entry section above."})]}):e.jsx("div",{className:"overflow-x-auto",ref:x,children:e.jsxs(Ce,{children:[e.jsx(ke,{children:e.jsxs(pe,{children:[e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 min-w-[100px]",onClick:()=>y("date"),children:["Date ",M("date")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("meetings"),children:["Meetings ",M("meetings")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("shows"),children:["Shows ",M("shows")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("offersMade"),children:["Offers ",M("offersMade")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("closes"),children:["Closes ",M("closes")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("cashCollected"),children:["Cash Collected ",M("cashCollected")]}),e.jsxs(q,{className:"cursor-pointer hover:bg-muted/50 text-center",onClick:()=>y("revenue"),children:["Revenue ",M("revenue")]}),e.jsx(q,{className:"text-center",children:"Actions"})]})}),e.jsx(Me,{children:w.map(c=>{const g=a.has(c.date);return e.jsxs(pe,{children:[e.jsx($,{className:"font-medium",children:E(c.date)}),e.jsx($,{className:"text-center",children:A(c,"meetings",g)}),e.jsx($,{className:"text-center",children:A(c,"shows",g)}),e.jsx($,{className:"text-center",children:A(c,"offersMade",g)}),e.jsx($,{className:"text-center",children:A(c,"closes",g)}),e.jsx($,{className:"text-center",children:A(c,"cashCollected",g)}),e.jsx($,{className:"text-center",children:A(c,"revenue",g)}),e.jsx($,{className:"text-center",children:g?e.jsxs("div",{className:"flex gap-1 justify-center",children:[e.jsx(U,{variant:"outline",size:"sm",onClick:()=>C(c.date),className:"h-8 w-8 p-0",children:e.jsx(Ke,{className:"h-4 w-4 text-green-600"})}),e.jsx(U,{variant:"outline",size:"sm",onClick:()=>K(c.date),className:"h-8 w-8 p-0",children:e.jsx(hs,{className:"h-4 w-4 text-red-600"})})]}):e.jsx(U,{variant:"outline",size:"sm",onClick:()=>I(c.date),className:"h-8 w-8 p-0",children:e.jsx(Re,{className:"h-4 w-4 text-muted-foreground"})})})]},c.date)})})]})}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background border rounded-lg p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Delete Record"}),e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Are you sure you want to delete the record for ",new Date(b).toLocaleDateString(),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(U,{variant:"outline",onClick:T,children:"Cancel"}),e.jsx(U,{variant:"destructive",onClick:k,children:"Delete"})]})]})})]})]})};function $e(r,s){if(typeof r=="function")return r(s);r!=null&&(r.current=s)}function St(...r){return s=>{let t=!1;const a=r.map(o=>{const l=$e(o,s);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<a.length;o++){const l=a[o];typeof l=="function"?l():$e(r[o],null)}}}}function Ct(r){const s=kt(r),t=f.forwardRef((a,o)=>{const{children:l,...n}=a,i=f.Children.toArray(l),m=i.find(Rt);if(m){const d=m.props.children,u=i.map(b=>b===m?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:b);return e.jsx(s,{...n,ref:o,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return e.jsx(s,{...n,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function kt(r){const s=f.forwardRef((t,a)=>{const{children:o,...l}=t;if(f.isValidElement(o)){const n=Ut(o),i=It(l,o.props);return o.type!==f.Fragment&&(i.ref=a?St(a,n):n),f.cloneElement(o,i)}return f.Children.count(o)>1?f.Children.only(null):null});return s.displayName=`${r}.SlotClone`,s}var Mt=Symbol("radix.slottable");function Rt(r){return f.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Mt}function It(r,s){const t={...s};for(const a in s){const o=r[a],l=s[a];/^on[A-Z]/.test(a)?o&&l?t[a]=(...i)=>{const m=l(...i);return o(...i),m}:o&&(t[a]=o):a==="style"?t[a]={...o,...l}:a==="className"&&(t[a]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function Ut(r){var a,o;let s=(a=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:a.get,t=s&&"isReactWarning"in s&&s.isReactWarning;return t?r.ref:(s=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,t=s&&"isReactWarning"in s&&s.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var Tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=Tt.reduce((r,s)=>{const t=Ct(`Primitive.${s}`),a=f.forwardRef((o,l)=>{const{asChild:n,...i}=o,m=n?t:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...i,ref:l})});return a.displayName=`Primitive.${s}`,{...r,[s]:a}},{}),_t="Label",os=f.forwardRef((r,s)=>e.jsx(At.label,{...r,ref:s,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=r.onMouseDown)==null||o.call(r,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));os.displayName=_t;var ls=os;const Ot=Se("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=f.forwardRef(({className:r,...s},t)=>e.jsx(ls,{ref:t,className:z(Ot(),r),...s}));W.displayName=ls.displayName;const Ft=({onDataSubmit:r})=>{const[s,t]=f.useState({date:new Date().toISOString().split("T")[0],meetings:"",shows:"",offersMade:"",closes:"",cashCollected:"",revenue:""}),a=(l,n)=>{t(i=>({...i,[l]:n}))},o=l=>{if(l.preventDefault(),!(s.meetings||s.shows||s.offersMade||s.closes||s.cashCollected||s.revenue)){oe.error("Please fill in at least one field");return}const i=parseFloat(s.cashCollected)||0,m=parseFloat(s.revenue)||0;if(i>m&&m>0){oe.error("Cash collected cannot exceed total revenue");return}const d={meetings:parseInt(s.meetings)||0,shows:parseInt(s.shows)||0,offersMade:parseInt(s.offersMade)||0,closes:parseInt(s.closes)||0,cashCollected:parseFloat(s.cashCollected)||0,revenue:parseFloat(s.revenue)||0},u={};Object.keys(d).forEach(D=>{d[D]>0&&(u[D]=d[D])});const b={date:s.date,...u,totalRevenue:u.revenue||0,newRevenue:u.revenue||0,recurringRevenue:0,isEdit:!1};r&&r(b),oe.success("Data added successfully!"),t({date:new Date().toISOString().split("T")[0],meetings:"",shows:"",offersMade:"",closes:"",cashCollected:"",revenue:""})};return e.jsxs(P,{children:[e.jsx(H,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5 text-muted-foreground"}),"Manual Data Entry"]})}),e.jsxs(L,{children:[e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{htmlFor:"date",className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-muted-foreground"}),"Date"]}),e.jsx("div",{className:"w-fit",children:e.jsx(G,{id:"date",type:"date",value:s.date,onChange:l=>a("date",l.target.value),required:!0})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Sales Activity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"meetings",children:"Meetings"}),e.jsx(G,{id:"meetings",type:"number",min:"0",placeholder:"# of meetings",value:s.meetings,onChange:l=>a("meetings",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"shows",children:"Shows"}),e.jsx(G,{id:"shows",type:"number",min:"0",placeholder:"# of shows",value:s.shows,onChange:l=>a("shows",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"offersMade",children:"Offers Made"}),e.jsx(G,{id:"offersMade",type:"number",min:"0",placeholder:"# of offers",value:s.offersMade,onChange:l=>a("offersMade",l.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"closes",children:"Closes"}),e.jsx(G,{id:"closes",type:"number",min:"0",placeholder:"# of closes",value:s.closes,onChange:l=>a("closes",l.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Revenue Tracking (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"revenue",children:"Total Revenue"}),e.jsx(G,{id:"revenue",type:"number",min:"0",step:"0.01",placeholder:"$0.00",value:s.revenue,onChange:l=>a("revenue",l.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Full deal value from all closes today"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"cashCollected",children:"Cash Collected"}),e.jsx(G,{id:"cashCollected",type:"number",min:"0",step:"0.01",placeholder:"$0.00",value:s.cashCollected,onChange:l=>a("cashCollected",l.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount actually received today"})]})]})]})]}),e.jsxs(U,{type:"submit",className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Save Data"]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"How to Use"}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"All fields are optional"})," - fill in only what you have data for"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Adding:"})," Blank fields = 0, data gets added to existing totals"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Editing:"})," Use the Editable Data Table below to modify existing entries"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Meetings:"})," Number of meetings/calls you had"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Shows:"})," Number of people who actually showed up to meetings"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Offers Made:"})," Number of formal offers/proposals presented"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Closes:"})," Number of deals closed/signed"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Total Revenue:"})," Full value of all deals (e.g., $3,000 for a $3k deal)"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Cash Collected:"})," Actual money received (can be partial)"]})]})]})]})]})},Pt=Se("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function is({className:r,variant:s,...t}){return e.jsx("div",{className:z(Pt({variant:s}),r),...t})}const Lt=({campaigns:r,onCampaignClick:s,showAllCampaigns:t})=>{const[a,o]=f.useState("spend"),[l,n]=f.useState("desc"),i=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(h),m=h=>new Intl.NumberFormat("en-US").format(h),d=(h,w)=>w>0?h/w:0,u=h=>{a===h?n(l==="asc"?"desc":"asc"):(o(h),n("desc"))},b=[...r].sort((h,w)=>{let y,I;return a==="costPerDM"?(y=d(h.spend,h.inboundDMs),I=d(w.spend,w.inboundDMs)):(y=h[a],I=w[a]),l==="asc"?y>I?1:-1:y<I?1:-1}),D=h=>{const w={Active:{variant:"default",className:"bg-green-100 text-green-800 border-green-200"},Inactive:{variant:"secondary",className:"bg-red-100 text-red-800 border-red-200"},Paused:{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200"},Ended:{variant:"outline",className:"bg-gray-100 text-gray-800 border-gray-200"},recently_completed:{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-200"}},y=w[h]||w.Active;return e.jsx(is,{variant:y.variant,className:y.className,children:h})},x=({field:h,children:w})=>e.jsx(q,{className:"cursor-pointer hover:bg-muted select-none",onClick:()=>u(h),children:e.jsxs("div",{className:"flex items-center gap-1",children:[w,e.jsx(fs,{className:"h-3 w-3"})]})});return e.jsxs(P,{children:[e.jsx(H,{children:e.jsxs(Y,{children:["Campaign Performance ",t?"(All Campaigns)":"(Active Only)"]})}),e.jsxs(L,{children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ce,{children:[e.jsx(ke,{children:e.jsxs(pe,{children:[e.jsx(q,{children:"Campaign Name"}),e.jsx(q,{children:"Status"}),e.jsx(x,{field:"spend",children:"Spend"}),e.jsx(x,{field:"inboundDMs",children:"Inbound DMs"}),e.jsx(x,{field:"costPerDM",children:"Cost/DM"}),e.jsx(x,{field:"impressions",children:"Impressions"}),e.jsx(x,{field:"reach",children:"Reach"}),e.jsx(x,{field:"clicks",children:"Clicks"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(Me,{children:b.map(h=>e.jsxs(pe,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>s&&s(h),children:[e.jsx($,{className:"font-medium max-w-xs",children:e.jsx("div",{className:"truncate",title:h.name,children:h.name})}),e.jsx($,{children:D(h.status)}),e.jsx($,{className:"font-mono",children:i(h.spend)}),e.jsx($,{className:"text-center font-semibold",children:h.inboundDMs}),e.jsx($,{className:"font-mono",children:i(d(h.spend,h.inboundDMs))}),e.jsx($,{children:m(h.impressions)}),e.jsx($,{children:m(h.reach)}),e.jsx($,{children:m(h.clicks)}),e.jsx($,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(U,{variant:"ghost",size:"sm",children:e.jsx(We,{className:"h-3 w-3"})}),e.jsx(U,{variant:"ghost",size:"sm",children:e.jsx(xs,{className:"h-3 w-3"})})]})})]},h.id))})]})}),e.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Showing ",r.length," campaign",r.length!==1?"s":""]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{children:["Total Spend: ",e.jsx("span",{className:"font-semibold",children:i(r.reduce((h,w)=>h+w.spend,0))})]}),e.jsxs("div",{children:["Total DMs: ",e.jsx("span",{className:"font-semibold",children:r.reduce((h,w)=>h+w.inboundDMs,0)})]})]})]})]})]})};class Bt{constructor(){this.errors=[],this.warnings=[],this.stats={totalRows:0,validRows:0,summaryRowsRemoved:0,boostedPostsRemoved:0,invalidRowsRemoved:0}}async processCsv(s){try{this.errors=[],this.warnings=[],this.stats={totalRows:0,validRows:0,summaryRowsRemoved:0,boostedPostsRemoved:0,invalidRowsRemoved:0};const{headers:t,rows:a}=this.parseCSV(s);this.stats.totalRows=a.length,this.validateColumns(t);const o=this.cleanRows(a,t);return{success:!0,data:this.transformData(o,t),stats:this.stats,errors:this.errors,warnings:this.warnings}}catch(t){return console.error("❌ CSV processing failed:",t),{success:!1,error:t.message,stats:this.stats,errors:this.errors,warnings:this.warnings}}}parseCSV(s){const t=s.split(`
`).filter(n=>n.trim());if(t.length<2)throw new Error("CSV file must have at least a header row and one data row");const a=n=>{const i=[];let m="",d=!1;for(let u=0;u<n.length;u++){const b=n[u],D=n[u+1];b==='"'?d&&D==='"'?(m+='"',u++):d=!d:b===","&&!d?(i.push(m.trim()),m=""):m+=b}return i.push(m.trim()),i},o=a(t[0]).map(n=>n.replace(/"/g,"").trim()),l=t.slice(1).map(n=>{const i=a(n),m={};return o.forEach((d,u)=>{m[d]=i[u]?i[u].replace(/"/g,"").trim():""}),m});return{headers:o,rows:l}}validateColumns(s){const a=["Reporting starts","Campaign name","Campaign Delivery","Amount spent (USD)","Results","Result indicator"].filter(o=>!s.some(l=>l.toLowerCase().includes(o.toLowerCase())));if(a.length>0)throw new Error(`Missing required columns: ${a.join(", ")}`)}cleanRows(s,t){const a=[];for(const o of s){const l=o["Campaign name"]||"",n=o["Campaign Delivery"]||"",i=o["Attribution setting"]||"",m=o["Reporting starts"]||"",d=o["Amount spent (USD)"]||"";if(!m||!m.match(/^\d{4}-\d{2}-\d{2}$/)){this.stats.invalidRowsRemoved++,this.warnings.push(`Skipped row with invalid date: ${m}`);continue}if(!l||l.trim()===""||n==="0"||i==="Multiple attribution settings"){this.stats.summaryRowsRemoved++;continue}if(l.startsWith("Instagram post:")){this.stats.boostedPostsRemoved++;continue}const u=parseFloat(d);(isNaN(u)||u<0)&&(o["Amount spent (USD)"]="0"),a.push(o)}return this.stats.validRows=a.length,a}transformData(s,t){var b,D;const a=new Map,o=new Map,l=new Map,n=(x,h)=>{for(const w of h){const y=t.find(I=>I.toLowerCase().includes(w.toLowerCase()));if(y&&x[y])return x[y]}return""};for(const x of s){const h=x["Reporting starts"],w=x["Campaign name"],y=x["Campaign Delivery"]||"",I=parseFloat(x["Amount spent (USD)"]||0),F=parseInt(x.Results||0),K=x["Result indicator"]||"",k=parseInt(n(x,["Impressions"])||0),T=parseInt(n(x,["Link clicks","Clicks"])||0),C=parseInt(n(x,["Reach"])||0);let S=0;K.includes("messaging_conversation_started")&&!K.includes("link_click")&&(S=F);const O=y.toLowerCase()==="active",E=O?"Active":y.toLowerCase()==="inactive"?"Inactive":y||"Unknown";a.has(h)||a.set(h,{date:h,activeSpend:0,allSpend:0,activeDMs:0,allDMs:0,activeImpressions:0,allImpressions:0,activeClicks:0,allClicks:0,activeReach:0,allReach:0,meetings:0,closes:0,cashCollected:0,recurringRevenue:0,newRevenue:0,totalRevenue:0});const M=a.get(h);M.allSpend+=I,M.allDMs+=S,M.allImpressions+=k,M.allClicks+=T,M.allReach=Math.max(M.allReach,C),O&&(M.activeSpend+=I,M.activeDMs+=S,M.activeImpressions+=k,M.activeClicks+=T,M.activeReach=Math.max(M.activeReach,C)),l.has(w)||l.set(w,{id:l.size+1,name:w,status:E,spend:0,inboundDMs:0,impressions:0,reach:0,clicks:0});const A=l.get(w);if(A.spend+=I,A.inboundDMs+=S,A.impressions+=k,A.reach=Math.max(A.reach,C),A.clicks+=T,O){o.has(w)||o.set(w,{...A,spend:0,inboundDMs:0,impressions:0,clicks:0,reach:0});const c=o.get(w);c.spend+=I,c.inboundDMs+=S,c.impressions+=k,c.reach=Math.max(c.reach,C),c.clicks+=T}}const i=Array.from(a.values()).sort((x,h)=>new Date(x.date)-new Date(h.date)),m=Array.from(o.values()),d=Array.from(l.values()),u=this.calculateTotals(i,m,d);return{dailyData:i,campaigns:m,allCampaigns:d,currentMetrics:u.active,allCampaignsMetrics:u.all,summary:{dateRange:{start:((b=i[0])==null?void 0:b.date)||null,end:((D=i[i.length-1])==null?void 0:D.date)||null},totalSpend:{active:u.active.totalSpend,all:u.all.totalSpend},totalDMs:{active:u.active.inboundDMs,all:u.all.inboundDMs}}}}calculateTotals(s,t,a){const o={totalSpend:s.reduce((n,i)=>n+i.activeSpend,0),inboundDMs:s.reduce((n,i)=>n+i.activeDMs,0),impressions:s.reduce((n,i)=>n+i.activeImpressions,0),clicks:s.reduce((n,i)=>n+i.activeClicks,0),reach:Math.max(...s.map(n=>n.activeReach).concat([0])),meetings:s.reduce((n,i)=>n+i.meetings,0),closes:s.reduce((n,i)=>n+i.closes,0),cashCollected:s.reduce((n,i)=>n+i.cashCollected,0),recurringRevenue:s.reduce((n,i)=>n+i.recurringRevenue,0),newRevenue:s.reduce((n,i)=>n+i.newRevenue,0),totalRevenue:s.reduce((n,i)=>n+i.totalRevenue,0)},l={totalSpend:s.reduce((n,i)=>n+i.allSpend,0),inboundDMs:s.reduce((n,i)=>n+i.allDMs,0),impressions:s.reduce((n,i)=>n+i.allImpressions,0),clicks:s.reduce((n,i)=>n+i.allClicks,0),reach:Math.max(...s.map(n=>n.allReach).concat([0])),meetings:s.reduce((n,i)=>n+i.meetings,0),closes:s.reduce((n,i)=>n+i.closes,0),cashCollected:s.reduce((n,i)=>n+i.cashCollected,0),recurringRevenue:s.reduce((n,i)=>n+i.recurringRevenue,0),newRevenue:s.reduce((n,i)=>n+i.newRevenue,0),totalRevenue:s.reduce((n,i)=>n+i.totalRevenue,0)};return[o,l].forEach(n=>{n.salesBooked=n.closes,n.costPerDM=n.inboundDMs>0?n.totalSpend/n.inboundDMs:0,n.costPerAcquisition=n.closes>0?n.totalSpend/n.closes:0,n.costPerMeeting=n.meetings>0?n.totalSpend/n.meetings:0,n.ctr=n.impressions>0?n.clicks/n.impressions*100:0,n.meetingToCloseRate=n.meetings>0?n.closes/n.meetings*100:0,n.dmToMeetingRate=n.inboundDMs>0?n.meetings/n.inboundDMs*100:0}),{active:o,all:l}}}const Et=({onDataImport:r,onClose:s})=>{var T;const[t,a]=f.useState(null),[o,l]=f.useState(null),[n,i]=f.useState(null);f.useState({});const[m,d]=f.useState(!1),[u,b]=f.useState(null),[D,x]=f.useState(null),h=C=>{const S=C.split(`
`).filter(M=>M.trim()),O=S[0].split(",").map(M=>M.trim().replace(/"/g,"")),E=S.slice(1).map(M=>{const A=M.split(",").map(g=>g.trim().replace(/"/g,"")),c={};return O.forEach((g,j)=>{c[g]=A[j]||""}),c});return{headers:O,rows:E}},w=f.useCallback(C=>{if(!C)return;if(!C.name.endsWith(".csv")){b("Please upload a CSV file");return}a(C),b(null);const S=new FileReader;S.onload=O=>{try{const E=O.target.result,M=h(E);l(M),i(M.rows.slice(0,5))}catch(E){b("Error parsing CSV file: "+E.message)}},S.readAsText(C)},[]),y=f.useCallback(C=>{C.preventDefault();const S=C.dataTransfer.files[0];w(S)},[w]),I=f.useCallback(C=>{C.preventDefault()},[]),F=async()=>{if(!t)return null;const C=new FileReader;return new Promise((S,O)=>{C.onload=async E=>{try{const M=E.target.result,c=await new Bt().processCsv(M);c.success?(x(c.stats),S(c.data)):O(new Error(c.error))}catch(M){O(M)}},C.readAsText(t)})},K=async()=>{d(!0),b(null);try{const C=await F();C&&(await r(C),s())}catch(C){console.error("❌ CSV import failed:",C),b("Error importing data: "+C.message)}finally{d(!1)}},k=()=>{const S=[["Reporting starts","Reporting ends","Campaign name","Campaign Delivery","Attribution setting","Results","Result indicator","Reach","Impressions","Link clicks","Amount spent (USD)"],["2025-06-20","2025-06-20","DFY Content Image","active","7-day click or 1-day view","3","actions:onsite_conversion.messaging_conversation_started_7d","2009","2838","8","94.98"],["2025-06-19","2025-06-19","DFY Content Image","active","7-day click or 1-day view","3","actions:onsite_conversion.messaging_conversation_started_7d","2135","2989","7","90.36"],["2025-06-18","2025-06-18","DFY Content Image","active","7-day click or 1-day view","3","actions:onsite_conversion.messaging_conversation_started_7d","1707","2158","5","61.03"]].map(A=>A.map(c=>`"${c}"`).join(",")).join(`
`),O=new Blob([S],{type:"text/csv"}),E=window.URL.createObjectURL(O),M=document.createElement("a");M.href=E,M.download="facebook-ads-sample.csv",M.click(),window.URL.revokeObjectURL(E)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs(P,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(H,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"Import Facebook Ads Data"]}),e.jsx(U,{variant:"ghost",size:"sm",onClick:s,children:e.jsx(we,{className:"h-4 w-4"})})]})}),e.jsxs(L,{className:"space-y-6",children:[!t&&e.jsxs("div",{children:[e.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-muted-foreground transition-colors cursor-pointer",onDrop:y,onDragOver:I,onClick:()=>document.getElementById("file-upload").click(),children:[e.jsx(fe,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Upload Facebook Ads CSV"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Drag and drop your CSV file here, or click to browse"}),e.jsx(U,{variant:"outline",children:"Choose File"}),e.jsx("input",{id:"file-upload",type:"file",accept:".csv",className:"hidden",onChange:C=>w(C.target.files[0])})]}),e.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(bs,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Need a sample CSV format?"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Download a sample CSV to see the expected format for Facebook Ads data."}),e.jsxs(U,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Download Sample CSV"]})]})]}),t&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900 dark:text-green-100",children:t.name}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:[(t.size/1024).toFixed(1)," KB • ",((T=o==null?void 0:o.rows)==null?void 0:T.length)||0," rows"]})]})]}),e.jsx(U,{variant:"ghost",size:"sm",onClick:()=>{a(null),l(null),i(null),b(null),x(null)},children:e.jsx(we,{className:"h-4 w-4"})})]}),u&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsx(js,{className:"h-5 w-5 text-red-600 dark:text-red-400"}),e.jsx("p",{className:"text-red-900 dark:text-red-100",children:u})]}),o&&D&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Data Processing Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Total Rows"}),e.jsx("div",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:D.totalRows})]}),e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Valid Rows"}),e.jsx("div",{className:"text-lg font-semibold text-green-900 dark:text-green-100",children:D.validRows})]}),e.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Summary Rows Removed"}),e.jsx("div",{className:"text-lg font-semibold text-orange-900 dark:text-orange-100",children:D.summaryRowsRemoved})]}),e.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Boosted Posts Removed"}),e.jsx("div",{className:"text-lg font-semibold text-purple-900 dark:text-purple-100",children:D.boostedPostsRemoved})]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"The CSV processor automatically detects and cleans your Facebook Ads data, removing summary rows and boosted posts to ensure accurate metrics."})]}),n&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Data Preview"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-border rounded-lg",children:[e.jsx("thead",{className:"bg-muted",children:e.jsx("tr",{children:o.headers.slice(0,6).map(C=>e.jsx("th",{className:"p-2 text-left text-sm font-medium border-b border-border text-foreground",children:C},C))})}),e.jsx("tbody",{children:n.map((C,S)=>e.jsx("tr",{className:"border-b border-border",children:o.headers.slice(0,6).map(O=>e.jsx("td",{className:"p-2 text-sm text-foreground",children:C[O]||"-"},O))},S))})]})}),o.rows.length>5&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Showing 5 of ",o.rows.length," rows"]})]}),o&&e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ready to process and import ",o.rows.length," rows of Facebook Ads data"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Data will be automatically cleaned and processed. Manual entries will be preserved."})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{variant:"outline",onClick:s,children:"Cancel"}),e.jsx(U,{onClick:K,disabled:m,children:m?"Processing & Importing...":"Import Data"})]})]})]})]})})},zt=({campaign:r,onClose:s,campaignDailyData:t=[]})=>{if(!r)return null;const a=t.length,o=t.filter(x=>x.spend>0).length,l=t.filter(x=>x.inboundDMs>0).length,n=a>0?r.spend/a:0,i=a>0?r.inboundDMs/a:0,m=t.map(x=>({date:new Date(x.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),spend:x.spend,inboundDMs:x.inboundDMs,impressions:x.impressions/1e3,clicks:x.clicks})),d=x=>{const h={Active:{variant:"default",className:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-100 dark:border-green-800"},Inactive:{variant:"secondary",className:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-100 dark:border-red-800"},Paused:{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900 dark:text-yellow-100 dark:border-yellow-800"}},w=h[x]||h.Active;return e.jsx(is,{variant:w.variant,className:w.className,children:x})},u=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x||0),b=x=>new Intl.NumberFormat("en-US").format(x||0),D=(x,h)=>h>0?x/h:0;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-background border rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-background border-b p-6 flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:r.name}),d(r.status)]}),e.jsx("p",{className:"text-muted-foreground",children:"Campaign Performance Analysis"})]}),e.jsx(U,{variant:"ghost",size:"sm",onClick:s,className:"text-muted-foreground hover:text-foreground",children:e.jsx(we,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Spend"}),e.jsx("p",{className:"text-2xl font-bold",children:u(r.spend)})]}),e.jsx(xe,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Inbound DMs"}),e.jsx("p",{className:"text-2xl font-bold",children:b(r.inboundDMs)})]}),e.jsx(He,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Cost per DM"}),e.jsx("p",{className:"text-2xl font-bold",children:u(D(r.spend,r.inboundDMs))})]}),e.jsx(ye,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Impressions"}),e.jsx("p",{className:"text-2xl font-bold",children:b(r.impressions)})]}),e.jsx(We,{className:"h-8 w-8 text-orange-600"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Reach"}),e.jsx("p",{className:"text-xl font-semibold",children:b(r.reach)})]}),e.jsx(be,{className:"h-6 w-6 text-blue-500"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Clicks"}),e.jsx("p",{className:"text-xl font-semibold",children:b(r.clicks)})]}),e.jsx(ge,{className:"h-6 w-6 text-green-500"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Days"}),e.jsxs("p",{className:"text-xl font-semibold",children:[o,"/",a]})]}),e.jsx(Ge,{className:"h-6 w-6 text-purple-500"})]})})}),e.jsx(P,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Result Days"}),e.jsxs("p",{className:"text-xl font-semibold",children:[l,"/",a]})]}),e.jsx(ws,{className:"h-6 w-6 text-orange-500"})]})})})]}),m.length>0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(H,{children:e.jsx(Y,{children:"Daily Spend vs Inbound DMs"})}),e.jsx(L,{children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Is,{data:m,children:[e.jsx(Ue,{strokeDasharray:"3 3"}),e.jsx(Te,{dataKey:"date"}),e.jsx(he,{yAxisId:"left"}),e.jsx(he,{yAxisId:"right",orientation:"right"}),e.jsx(Ae,{formatter:(x,h)=>[h==="spend"?u(x):b(x),h==="spend"?"Spend":"Inbound DMs"]}),e.jsx(_e,{}),e.jsx(Oe,{yAxisId:"left",dataKey:"spend",fill:"#3B82F6",name:"Daily Spend"}),e.jsx(Oe,{yAxisId:"right",dataKey:"inboundDMs",fill:"#10B981",name:"Inbound DMs"})]})})})]}),e.jsxs(P,{children:[e.jsx(H,{children:e.jsx(Y,{children:"Performance Trends"})}),e.jsx(L,{children:e.jsx(Ie,{width:"100%",height:300,children:e.jsxs(Us,{data:m,children:[e.jsx(Ue,{strokeDasharray:"3 3"}),e.jsx(Te,{dataKey:"date"}),e.jsx(he,{yAxisId:"left"}),e.jsx(he,{yAxisId:"right",orientation:"right"}),e.jsx(Ae,{formatter:(x,h)=>[b(x),h==="impressions"?"Impressions (K)":"Clicks"]}),e.jsx(_e,{}),e.jsx(Fe,{yAxisId:"left",type:"monotone",dataKey:"impressions",stroke:"#F59E0B",strokeWidth:2,name:"Impressions (K)"}),e.jsx(Fe,{yAxisId:"right",type:"monotone",dataKey:"clicks",stroke:"#8B5CF6",strokeWidth:2,name:"Clicks"})]})})})]})]}),e.jsxs(P,{children:[e.jsx(H,{children:e.jsx(Y,{children:"Campaign Summary"})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Performance Metrics"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Average Daily Spend:"}),e.jsx("span",{className:"font-medium",children:u(n)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Average Daily DMs:"}),e.jsx("span",{className:"font-medium",children:i.toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Click-through Rate:"}),e.jsxs("span",{className:"font-medium",children:[r.impressions>0?(r.clicks/r.impressions*100).toFixed(2):0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"DM Conversion Rate:"}),e.jsxs("span",{className:"font-medium",children:[r.clicks>0?(r.inboundDMs/r.clicks*100).toFixed(2):0,"%"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Campaign Activity"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Days Tracked:"}),e.jsx("span",{className:"font-medium",children:a})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days with Spend:"}),e.jsx("span",{className:"font-medium",children:o})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days with Results:"}),e.jsx("span",{className:"font-medium",children:l})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[o>0?(l/o*100).toFixed(1):0,"%"]})]})]})]})]})})]}),m.length>0&&e.jsxs(P,{children:[e.jsx(H,{children:e.jsx(Y,{children:"Daily Breakdown"})}),e.jsx(L,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"border-b",children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"pb-2",children:"Date"}),e.jsx("th",{className:"pb-2",children:"Spend"}),e.jsx("th",{className:"pb-2",children:"DMs"}),e.jsx("th",{className:"pb-2",children:"Impressions"}),e.jsx("th",{className:"pb-2",children:"Clicks"}),e.jsx("th",{className:"pb-2",children:"Cost/DM"})]})}),e.jsx("tbody",{className:"divide-y",children:t.map((x,h)=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"py-2",children:new Date(x.date).toLocaleDateString()}),e.jsx("td",{className:"py-2",children:u(x.spend)}),e.jsx("td",{className:"py-2 font-medium",children:x.inboundDMs}),e.jsx("td",{className:"py-2",children:b(x.impressions)}),e.jsx("td",{className:"py-2",children:b(x.clicks)}),e.jsx("td",{className:"py-2",children:x.inboundDMs>0?u(x.spend/x.inboundDMs):"-"})]},h))})]})})})]})]})]})})},$t=()=>{const{theme:r,toggleTheme:s}=ft();return e.jsxs(U,{variant:"outline",size:"sm",onClick:s,className:"relative transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"relative",children:r==="light"?e.jsx(ys,{className:"h-4 w-4 transition-all duration-300 rotate-0 scale-100"}):e.jsx(Ns,{className:"h-4 w-4 transition-all duration-300 rotate-180 scale-100"})}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})};class Vt{constructor(){this.storageKeys={currentUser:"dmads_current_user",userList:"dmads_user_list",userProfiles:"dmads_user_profiles"},this.currentUser=this.getCurrentUser()}getCurrentUser(){const s=localStorage.getItem(this.storageKeys.currentUser);return s?JSON.parse(s):null}setCurrentUser(s){this.currentUser=s,localStorage.setItem(this.storageKeys.currentUser,JSON.stringify(s))}getAllUsers(){const s=localStorage.getItem(this.storageKeys.userList);return s?JSON.parse(s):[]}createUser(s){const{username:t,displayName:a,businessName:o,email:l}=s;if(!t||!a)throw new Error("Username and display name are required");const n=this.getAllUsers();if(n.find(d=>d.username===t))throw new Error("Username already exists");const i={id:this.generateUserId(),username:t.toLowerCase().trim(),displayName:a.trim(),businessName:(o==null?void 0:o.trim())||"",email:(l==null?void 0:l.trim())||"",createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),settings:{theme:"light",defaultDateRange:"last30days",currency:"USD"}},m=[...n,i];return localStorage.setItem(this.storageKeys.userList,JSON.stringify(m)),this.initializeUserData(i.id),i}loginUser(s){const a=this.getAllUsers().find(o=>o.username===s.toLowerCase().trim());if(!a)throw new Error("User not found");return a.lastLogin=new Date().toISOString(),this.updateUser(a),this.setCurrentUser(a),a}logout(){localStorage.removeItem(this.storageKeys.currentUser),this.currentUser=null}updateUser(s){const t=this.getAllUsers(),a=t.findIndex(o=>o.id===s.id);if(a===-1)throw new Error("User not found");return t[a]={...t[a],...s},localStorage.setItem(this.storageKeys.userList,JSON.stringify(t)),this.currentUser&&this.currentUser.id===s.id&&this.setCurrentUser(t[a]),t[a]}deleteUser(s){if(!confirm("Are you sure you want to delete this user and all their data? This cannot be undone."))return!1;const a=this.getAllUsers().filter(o=>o.id!==s);return localStorage.setItem(this.storageKeys.userList,JSON.stringify(a)),this.clearUserData(s),this.currentUser&&this.currentUser.id===s&&this.logout(),!0}generateUserId(){return"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}initializeUserData(s){[`dmads_daily_data_${s}`,`dmads_manual_entries_${s}`,`dmads_settings_${s}`].forEach(a=>{localStorage.getItem(a)||localStorage.setItem(a,JSON.stringify(a.includes("settings")?{}:[]))})}clearUserData(s){const t=[];for(let a=0;a<localStorage.length;a++){const o=localStorage.key(a);o&&o.includes(`_${s}`)&&t.push(o)}t.forEach(a=>localStorage.removeItem(a))}getUserStorageKey(s){if(!this.currentUser)throw new Error("No user logged in");return`${s}_${this.currentUser.id}`}isLoggedIn(){return this.currentUser!==null}getUserStats(s=null){var a;const t=s||((a=this.currentUser)==null?void 0:a.id);if(!t)return null;try{const o=`dmads_daily_data_${t}`,l=`dmads_manual_entries_${t}`,n=JSON.parse(localStorage.getItem(o)||"[]"),i=JSON.parse(localStorage.getItem(l)||"{}");return{totalDays:n.length,daysWithManualData:Object.keys(i).length,oldestEntry:n.length>0?n[0].date:null,newestEntry:n.length>0?n[n.length-1].date:null,dataSize:JSON.stringify(n).length+JSON.stringify(i).length}}catch(o){return console.error("Error getting user stats:",o),null}}exportUserData(s=null){var m;const t=s||((m=this.currentUser)==null?void 0:m.id);if(!t)throw new Error("No user specified");const a=this.getAllUsers().find(d=>d.id===t);if(!a)throw new Error("User not found");const o={user:a,dailyData:JSON.parse(localStorage.getItem(`dmads_daily_data_${t}`)||"[]"),manualEntries:JSON.parse(localStorage.getItem(`dmads_manual_entries_${t}`)||"{}"),settings:JSON.parse(localStorage.getItem(`dmads_settings_${t}`)||"{}"),exportDate:new Date().toISOString(),version:"1.0"},l=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=`${a.username}-dmads-export-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n)}async importUserData(s){return new Promise((t,a)=>{const o=new FileReader;o.onload=l=>{try{const n=JSON.parse(l.target.result);if(!n.user||!n.dailyData)throw new Error("Invalid user data file");const i=this.getAllUsers(),m=i.findIndex(u=>u.username===n.user.username);let d;m>=0?(d=i[m].id,i[m]={...i[m],...n.user,id:d},localStorage.setItem(this.storageKeys.userList,JSON.stringify(i))):d=this.createUser(n.user).id,n.dailyData&&localStorage.setItem(`dmads_daily_data_${d}`,JSON.stringify(n.dailyData)),n.manualEntries&&localStorage.setItem(`dmads_manual_entries_${d}`,JSON.stringify(n.manualEntries)),n.settings&&localStorage.setItem(`dmads_settings_${d}`,JSON.stringify(n.settings)),t({userId:d,imported:n})}catch(n){a(n)}},o.readAsText(s)})}}const B=new Vt,Ve=({onAuthChange:r})=>{const[s,t]=f.useState(B.getCurrentUser()),[a,o]=f.useState(!1),[l,n]=f.useState(!1),[i,m]=f.useState([]),[d,u]=f.useState(""),[b,D]=f.useState({username:"",displayName:"",businessName:"",email:""}),[x,h]=f.useState("");f.useEffect(()=>{m(B.getAllUsers())},[]);const w=()=>{try{u("");const k=B.createUser(b);t(k),m(B.getAllUsers()),n(!1),D({username:"",displayName:"",businessName:"",email:""}),r==null||r(k)}catch(k){u(k.message)}},y=(k=x)=>{try{u("");const T=B.loginUser(k);t(T),m(B.getAllUsers()),o(!1),h(""),r==null||r(T)}catch(T){u(T.message)}},I=()=>{B.logout(),t(null),r==null||r(null)},F=k=>{B.deleteUser(k)&&(m(B.getAllUsers()),(s==null?void 0:s.id)===k&&(t(null),r==null||r(null)))},K=()=>{B.exportUserData()};return s?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium",children:s.displayName}),e.jsxs("span",{className:"text-muted-foreground",children:["(",s.businessName||s.username,")"]}),e.jsx(U,{variant:"outline",size:"sm",onClick:K,children:"Export Data"}),e.jsxs(U,{variant:"outline",size:"sm",onClick:I,children:[e.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Logout"]})]}):e.jsxs("div",{className:"space-y-4",children:[!a&&!l&&e.jsxs(P,{className:"w-full max-w-md mx-auto",children:[e.jsx(H,{children:e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),"Select User Account"]})}),e.jsxs(L,{className:"space-y-4",children:[i.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Existing Users:"}),i.map(k=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:k.displayName}),e.jsx("div",{className:"text-sm text-muted-foreground",children:k.businessName||k.username})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(U,{size:"sm",variant:"outline",onClick:()=>y(k.username),children:"Login"}),e.jsx(U,{size:"sm",variant:"destructive",onClick:()=>F(k.id),children:"Delete"})]})]},k.id))]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(U,{onClick:()=>o(!0),className:"flex-1",children:[e.jsx(Cs,{className:"h-4 w-4 mr-1"}),"Login"]}),e.jsxs(U,{onClick:()=>n(!0),variant:"outline",className:"flex-1",children:[e.jsx(Je,{className:"h-4 w-4 mr-1"}),"New User"]})]})]})]}),a&&e.jsxs(P,{className:"w-full max-w-md mx-auto",children:[e.jsx(H,{children:e.jsx(Y,{children:"Login"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"login-username",children:"Username"}),e.jsx(G,{id:"login-username",value:x,onChange:k=>h(k.target.value),placeholder:"Enter username"})]}),d&&e.jsx("div",{className:"text-red-500 text-sm",children:d}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{onClick:()=>y(),disabled:!x,className:"flex-1",children:"Login"}),e.jsx(U,{variant:"outline",onClick:()=>o(!1),className:"flex-1",children:"Cancel"})]})]})]}),l&&e.jsxs(P,{className:"w-full max-w-md mx-auto",children:[e.jsx(H,{children:e.jsx(Y,{children:"Create New User"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reg-username",children:"Username *"}),e.jsx(G,{id:"reg-username",value:b.username,onChange:k=>D(T=>({...T,username:k.target.value})),placeholder:"Choose a username"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reg-displayname",children:"Display Name *"}),e.jsx(G,{id:"reg-displayname",value:b.displayName,onChange:k=>D(T=>({...T,displayName:k.target.value})),placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reg-business",children:"Business Name"}),e.jsx(G,{id:"reg-business",value:b.businessName,onChange:k=>D(T=>({...T,businessName:k.target.value})),placeholder:"Your business name (optional)"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reg-email",children:"Email"}),e.jsx(G,{id:"reg-email",type:"email",value:b.email,onChange:k=>D(T=>({...T,email:k.target.value})),placeholder:"your@email.com (optional)"})]}),d&&e.jsx("div",{className:"text-red-500 text-sm",children:d}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{onClick:w,disabled:!b.username||!b.displayName,className:"flex-1",children:"Create User"}),e.jsx(U,{variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancel"})]})]})]})]})},ne={currentMetrics:{inboundDMs:127,totalSpend:2450,costPerDM:19.29,salesBooked:23,conversations:89,meetings:89,closes:23,cashCollected:45600,recurringRevenue:12e3,newRevenue:45600,totalRevenue:57600,impressions:45230,reach:32150,clicks:1890,ctr:4.18,costPerAcquisition:106.52,costPerMeeting:27.53,meetingToCloseRate:25.84,dmToMeetingRate:70.08},previousMetrics:{inboundDMs:98,totalSpend:2100,costPerDM:21.43,salesBooked:18,conversations:72,impressions:38920,reach:28340,clicks:1520,ctr:3.91},dailyData:[{date:"2025-05-23",inboundDMs:4,conversations:3,salesBooked:1,spend:85.5,impressions:1520,clicks:65},{date:"2025-05-24",inboundDMs:6,conversations:4,salesBooked:1,spend:92.3,impressions:1680,clicks:78},{date:"2025-05-25",inboundDMs:3,conversations:2,salesBooked:0,spend:78.2,impressions:1340,clicks:52},{date:"2025-05-26",inboundDMs:8,conversations:6,salesBooked:2,spend:105.4,impressions:1890,clicks:95},{date:"2025-05-27",inboundDMs:5,conversations:4,salesBooked:1,spend:88.9,impressions:1560,clicks:71},{date:"2025-05-28",inboundDMs:7,conversations:5,salesBooked:1,spend:96.7,impressions:1720,clicks:82},{date:"2025-05-29",inboundDMs:4,conversations:3,salesBooked:1,spend:82.1,impressions:1450,clicks:58},{date:"2025-05-30",inboundDMs:9,conversations:7,salesBooked:2,spend:112.8,impressions:2010,clicks:108},{date:"2025-05-31",inboundDMs:6,conversations:4,salesBooked:1,spend:91.5,impressions:1630,clicks:74},{date:"2025-06-01",inboundDMs:5,conversations:3,salesBooked:1,spend:87.2,impressions:1540,clicks:68},{date:"2025-06-02",inboundDMs:8,conversations:6,salesBooked:2,spend:108.6,impressions:1950,clicks:98},{date:"2025-06-03",inboundDMs:7,conversations:5,salesBooked:1,spend:94.3,impressions:1680,clicks:81},{date:"2025-06-04",inboundDMs:4,conversations:3,salesBooked:0,spend:79.8,impressions:1420,clicks:55},{date:"2025-06-05",inboundDMs:6,conversations:4,salesBooked:1,spend:89.7,impressions:1590,clicks:72},{date:"2025-06-06",inboundDMs:9,conversations:7,salesBooked:3,spend:115.2,impressions:2080,clicks:112},{date:"2025-06-07",inboundDMs:5,conversations:4,salesBooked:1,spend:86.4,impressions:1520,clicks:67},{date:"2025-06-08",inboundDMs:7,conversations:5,salesBooked:1,spend:93.8,impressions:1670,clicks:79},{date:"2025-06-09",inboundDMs:6,conversations:4,salesBooked:1,spend:90.1,impressions:1600,clicks:73},{date:"2025-06-10",inboundDMs:8,conversations:6,salesBooked:2,spend:107.5,impressions:1920,clicks:96},{date:"2025-06-11",inboundDMs:4,conversations:3,salesBooked:1,spend:81.6,impressions:1440,clicks:57},{date:"2025-06-12",inboundDMs:7,conversations:5,salesBooked:1,spend:95.2,impressions:1700,clicks:83},{date:"2025-06-13",inboundDMs:5,conversations:4,salesBooked:1,spend:88.3,impressions:1570,clicks:69},{date:"2025-06-14",inboundDMs:9,conversations:7,salesBooked:2,spend:114.7,impressions:2050,clicks:109},{date:"2025-06-15",inboundDMs:6,conversations:4,salesBooked:1,spend:91.8,impressions:1640,clicks:75},{date:"2025-06-16",inboundDMs:8,conversations:6,salesBooked:2,spend:106.9,impressions:1910,clicks:94},{date:"2025-06-17",inboundDMs:5,conversations:3,salesBooked:1,spend:87.6,impressions:1550,clicks:66},{date:"2025-06-18",inboundDMs:7,conversations:5,salesBooked:1,spend:94.8,impressions:1690,clicks:80},{date:"2025-06-19",inboundDMs:6,conversations:4,salesBooked:1,spend:90.5,impressions:1610,clicks:74},{date:"2025-06-20",inboundDMs:8,conversations:6,salesBooked:2,spend:108.2,impressions:1940,clicks:97,meetings:6,closes:2,cashCollected:3500,recurringRevenue:500,newRevenue:3500,totalRevenue:4e3},{date:"2025-06-21",inboundDMs:4,conversations:3,salesBooked:0,spend:80.9,impressions:1430,clicks:56,meetings:3,closes:0,cashCollected:0,recurringRevenue:0,newRevenue:0,totalRevenue:0},{date:"2025-06-22",inboundDMs:6,conversations:5,salesBooked:1,spend:92.4,impressions:1650,clicks:76,meetings:5,closes:1,cashCollected:1500,recurringRevenue:200,newRevenue:1500,totalRevenue:1700},{date:"2025-06-23",inboundDMs:5,conversations:4,salesBooked:1,spend:89.1,impressions:1580,clicks:71,meetings:4,closes:1,cashCollected:2e3,recurringRevenue:300,newRevenue:2e3,totalRevenue:2300}],campaigns:[{id:1,name:"Content Creation Services - DM",status:"Active",spend:1250,inboundDMs:65,costPerDM:19.23,impressions:23450,reach:16780,clicks:980},{id:2,name:"Social Media Management - DM",status:"Active",spend:890,inboundDMs:42,costPerDM:21.19,impressions:17890,reach:12340,clicks:650},{id:3,name:"Brand Strategy Consultation - DM",status:"Active",spend:310,inboundDMs:20,costPerDM:15.5,impressions:3890,reach:3030,clicks:260}],funnelData:[{stage:"Impressions",value:45230,percentage:100},{stage:"Clicks",value:1890,percentage:4.18},{stage:"Inbound DMs",value:127,percentage:6.72},{stage:"Conversations",value:89,percentage:70.08},{stage:"Sales Booked",value:23,percentage:25.84}]};class Kt{constructor(){this.baseStorageKeys={dailyData:"dmads_daily_data",manualEntries:"dmads_manual_entries",lastBackup:"dmads_last_backup",settings:"dmads_settings"}}getStorageKeys(){if(!B.isLoggedIn())return this.baseStorageKeys;const s=B.currentUser.id;return{dailyData:`${this.baseStorageKeys.dailyData}_${s}`,manualEntries:`${this.baseStorageKeys.manualEntries}_${s}`,lastBackup:`${this.baseStorageKeys.lastBackup}_${s}`,settings:`${this.baseStorageKeys.settings}_${s}`}}getTodayDate(){return new Date().toISOString().split("T")[0]}loadData(){try{const s=this.getDailyData(),t=this.getManualEntries(),a=this.getSettings();return{dailyData:s,manualEntries:t,settings:a,lastUpdate:new Date}}catch(s){return console.error("Error loading data:",s),{dailyData:[],manualEntries:{},settings:{},lastUpdate:new Date}}}getDailyData(){const s=this.getStorageKeys(),t=localStorage.getItem(s.dailyData);if(!t)return[];try{const a=JSON.parse(t);return Array.isArray(a)?a.sort((o,l)=>new Date(o.date)-new Date(l.date)):[]}catch(a){return console.error("Error parsing daily data:",a),[]}}getManualEntries(){const s=this.getStorageKeys(),t=localStorage.getItem(s.manualEntries);if(!t)return{};try{return JSON.parse(t)}catch(a){return console.error("Error parsing manual entries:",a),{}}}getSettings(){const s=this.getStorageKeys(),t=localStorage.getItem(s.settings);if(!t)return{};try{return JSON.parse(t)}catch(a){return console.error("Error parsing settings:",a),{}}}saveDailyEntry(s,t){const a=this.getDailyData(),o=a.findIndex(i=>i.date===s),l={date:s,...t,lastUpdated:new Date().toISOString()};if(o>=0){const i=a[o];a[o]={...l,meetings:i.meetings||l.meetings||0,offersMade:i.offersMade||l.offersMade||0,closes:i.closes||l.closes||0,cashCollected:i.cashCollected||l.cashCollected||0,revenue:i.revenue||l.revenue||0,recurringRevenue:i.recurringRevenue||l.recurringRevenue||0,newRevenue:i.newRevenue||l.newRevenue||0,totalRevenue:i.totalRevenue||l.totalRevenue||0}}else a.push(l);a.sort((i,m)=>new Date(i.date)-new Date(m.date));const n=this.getStorageKeys();return localStorage.setItem(n.dailyData,JSON.stringify(a)),this.createBackup(),a}saveManualEntry(s,t){const a=this.getManualEntries(),o=this.getDailyData();a[s]={...a[s],...t,lastUpdated:new Date().toISOString()};const l=this.getStorageKeys();localStorage.setItem(l.manualEntries,JSON.stringify(a));const n=o.findIndex(i=>i.date===s);return n>=0?o[n]={...o[n],...t,lastUpdated:new Date().toISOString()}:o.push({date:s,...t,inboundDMs:0,spend:0,impressions:0,clicks:0,reach:0,lastUpdated:new Date().toISOString()}),o.sort((i,m)=>new Date(i.date)-new Date(m.date)),localStorage.setItem(l.dailyData,JSON.stringify(o)),this.createBackup(),{dailyData:o,manualEntries:a}}bulkImportDailyData(s,t=!0){const a=this.getDailyData(),o=this.getManualEntries(),l=new Map(a.map(m=>[m.date,m]));s.forEach(m=>{const d=l.get(m.date),u=o[m.date],b={...m,lastUpdated:new Date().toISOString()};t&&(d||u)&&(b.meetings=(d==null?void 0:d.meetings)||(u==null?void 0:u.meetings)||0,b.offersMade=(d==null?void 0:d.offersMade)||(u==null?void 0:u.offersMade)||0,b.closes=(d==null?void 0:d.closes)||(u==null?void 0:u.closes)||0,b.cashCollected=(d==null?void 0:d.cashCollected)||(u==null?void 0:u.cashCollected)||0,b.revenue=(d==null?void 0:d.revenue)||(u==null?void 0:u.revenue)||0,b.recurringRevenue=(d==null?void 0:d.recurringRevenue)||(u==null?void 0:u.recurringRevenue)||0,b.newRevenue=(d==null?void 0:d.newRevenue)||(u==null?void 0:u.newRevenue)||0,b.totalRevenue=(d==null?void 0:d.totalRevenue)||(u==null?void 0:u.totalRevenue)||0),l.set(m.date,b)});const n=Array.from(l.values()).sort((m,d)=>new Date(m.date)-new Date(d.date)),i=this.getStorageKeys();return localStorage.setItem(i.dailyData,JSON.stringify(n)),this.createBackup(),n}createBackup(){const s={dailyData:this.getDailyData(),manualEntries:this.getManualEntries(),settings:this.getSettings(),timestamp:new Date().toISOString(),version:"1.0"},t=this.getStorageKeys(),a=B.isLoggedIn()?`dmads_backup_${B.currentUser.id}_${new Date().toISOString().split("T")[0]}`:`dmads_backup_${new Date().toISOString().split("T")[0]}`;localStorage.setItem(a,JSON.stringify(s)),localStorage.setItem(t.lastBackup,new Date().toISOString()),this.cleanOldBackups()}exportData(){const s={dailyData:this.getDailyData(),manualEntries:this.getManualEntries(),settings:this.getSettings(),exportDate:new Date().toISOString(),version:"1.0"},t=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a;const l=B.isLoggedIn()?`-${B.currentUser.username}`:"";o.download=`dm-ads-backup${l}-${new Date().toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(a)}async importData(s){return new Promise((t,a)=>{const o=new FileReader;o.onload=l=>{try{const n=JSON.parse(l.target.result),i=this.getStorageKeys();n.dailyData&&localStorage.setItem(i.dailyData,JSON.stringify(n.dailyData)),n.manualEntries&&localStorage.setItem(i.manualEntries,JSON.stringify(n.manualEntries)),n.settings&&localStorage.setItem(i.settings,JSON.stringify(n.settings)),this.createBackup(),t(n)}catch(n){a(n)}},o.readAsText(s)})}cleanOldBackups(){const s=new Date;s.setDate(s.getDate()-30);const t=[],a=B.isLoggedIn()?B.currentUser.id:null;for(let o=0;o<localStorage.length;o++){const l=localStorage.key(o);if(l&&l.startsWith("dmads_backup_")){let n;const i=l.split("_");if(a&&l.includes(`_${a}_`))n=i[3];else if(!a&&i.length===3)n=i[2];else continue;n&&new Date(n)<s&&t.push(l)}}t.forEach(o=>localStorage.removeItem(o))}getDataForDateRange(s,t){return this.getDailyData().filter(o=>{const l=new Date(o.date);return l>=new Date(s)&&l<=new Date(t)})}getStats(){const s=this.getDailyData(),t=this.getManualEntries();return{totalDays:s.length,daysWithManualData:Object.keys(t).length,oldestEntry:s.length>0?s[0].date:null,newestEntry:s.length>0?s[s.length-1].date:null,lastBackup:localStorage.getItem(this.getStorageKeys().lastBackup)}}clearAllData(){if(confirm("Are you sure you want to clear all data? This cannot be undone.")){const s=this.getStorageKeys();Object.values(s).forEach(o=>{localStorage.removeItem(o)});const t=[],a=B.isLoggedIn()?B.currentUser.id:null;for(let o=0;o<localStorage.length;o++){const l=localStorage.key(o);l&&l.startsWith("dmads_backup_")&&(a&&l.includes(`_${a}_`)?t.push(l):a||l.split("_").length===3&&t.push(l))}return t.forEach(o=>localStorage.removeItem(o)),!0}return!1}}const ae=new Kt,me=r=>{if(!r||r.length===0)return ne.currentMetrics;const s=r.reduce((t,a)=>({inboundDMs:t.inboundDMs+(a.inboundDMs||0),totalSpend:t.totalSpend+(a.spend||a.activeSpend||0),meetings:t.meetings+(a.meetings||0),offersMade:t.offersMade+(a.offersMade||0),closes:t.closes+(a.closes||0),cashCollected:t.cashCollected+(a.cashCollected||0),revenue:t.revenue+(a.revenue||a.totalRevenue||0),recurringRevenue:t.recurringRevenue+(a.recurringRevenue||0),newRevenue:t.newRevenue+(a.newRevenue||0),totalRevenue:t.totalRevenue+(a.totalRevenue||0),impressions:t.impressions+(a.impressions||a.activeImpressions||0),clicks:t.clicks+(a.clicks||a.activeClicks||0),reach:Math.max(t.reach,a.reach||a.activeReach||0)}),{inboundDMs:0,totalSpend:0,meetings:0,offersMade:0,closes:0,cashCollected:0,revenue:0,recurringRevenue:0,newRevenue:0,totalRevenue:0,impressions:0,clicks:0,reach:0});return{...s,salesBooked:s.closes,costPerDM:s.inboundDMs>0?s.totalSpend/s.inboundDMs:0,costPerAcquisition:s.closes>0?s.totalSpend/s.closes:0,costPerMeeting:s.meetings>0?s.totalSpend/s.meetings:0,ctr:s.impressions>0?parseFloat((s.clicks/s.impressions*100).toFixed(2)):0,meetingToCloseRate:s.meetings>0?parseFloat((s.closes/s.meetings*100).toFixed(2)):0,dmToMeetingRate:s.inboundDMs>0?parseFloat((s.meetings/s.inboundDMs*100).toFixed(2)):0}},Jt=()=>{const[r,s]=f.useState(ne),[t,a]=f.useState("last30days");f.useState([]);const[o,l]=f.useState(new Date),[n,i]=f.useState(!1),[m,d]=f.useState(!1),[u,b]=f.useState(null),[D,x]=f.useState(B.getCurrentUser());f.useEffect(()=>{if(D)try{const c=ae.loadData();if(c.dailyData&&c.dailyData.length>0){const g={...ne,dailyData:c.dailyData,currentMetrics:me(c.dailyData)};s(g)}else s(ne)}catch(c){console.error("Error loading persistent data:",c)}},[D]);const h=c=>{x(c),c?l(new Date):s(ne)},w=()=>{const c=new Date;let g,j=c;switch(t){case"last24hours":g=new Date(c),g.setDate(g.getDate()-1),j=new Date(g);break;case"last7days":g=new Date(c),g.setDate(g.getDate()-6);break;case"last30days":g=new Date(c),g.setDate(g.getDate()-29);break;case"monthToDate":g=new Date(c.getFullYear(),c.getMonth(),1);break;case"last3months":g=new Date(c),g.setDate(g.getDate()-89);break;default:g=new Date(c),g.setDate(g.getDate()-29)}const v=r.dailyData.filter(p=>{const N=p.date,cs=g.toISOString().split("T")[0],ds=j.toISOString().split("T")[0];return N>=cs&&N<=ds});let V=r.campaigns||[],ee=r.allCampaigns||r.campaigns||[];r.campaigns&&r.campaigns.length>0&&(V=r.campaigns,ee=r.allCampaigns||r.campaigns);const J=v.length>0&&v[0].hasOwnProperty("activeSpend"),X={totalSpend:J?v.reduce((p,N)=>p+(N.allSpend||0),0):v.reduce((p,N)=>p+(N.spend||0),0),inboundDMs:J?v.reduce((p,N)=>p+(N.allDMs||0),0):v.reduce((p,N)=>p+(N.inboundDMs||0),0),meetings:v.reduce((p,N)=>p+(N.meetings||0),0),shows:v.reduce((p,N)=>p+(N.shows||0),0),closes:v.reduce((p,N)=>p+(N.closes||0),0),cashCollected:v.reduce((p,N)=>p+(N.cashCollected||0),0),recurringRevenue:v.reduce((p,N)=>p+(N.recurringRevenue||0),0),newRevenue:v.reduce((p,N)=>p+(N.newRevenue||0),0),totalRevenue:v.reduce((p,N)=>p+(N.totalRevenue||0),0),impressions:J?v.reduce((p,N)=>p+(N.allImpressions||0),0):v.reduce((p,N)=>p+(N.impressions||0),0),clicks:J?v.reduce((p,N)=>p+(N.allClicks||0),0):v.reduce((p,N)=>p+(N.clicks||0),0),reach:Math.max(...J?v.map(p=>p.allReach||0).concat([0]):v.map(p=>p.reach||0).concat([0]))},ce=J?{totalSpend:v.reduce((p,N)=>p+(N.activeSpend||0),0),inboundDMs:v.reduce((p,N)=>p+(N.activeDMs||0),0),meetings:v.reduce((p,N)=>p+(N.meetings||0),0),shows:v.reduce((p,N)=>p+(N.shows||0),0),closes:v.reduce((p,N)=>p+(N.closes||0),0),cashCollected:v.reduce((p,N)=>p+(N.cashCollected||0),0),recurringRevenue:v.reduce((p,N)=>p+(N.recurringRevenue||0),0),newRevenue:v.reduce((p,N)=>p+(N.newRevenue||0),0),totalRevenue:v.reduce((p,N)=>p+(N.totalRevenue||0),0),impressions:v.reduce((p,N)=>p+(N.activeImpressions||0),0),clicks:v.reduce((p,N)=>p+(N.activeClicks||0),0),reach:Math.max(...v.map(p=>p.activeReach||0).concat([0]))}:{...X};return[X,ce].forEach(p=>{p.salesBooked=p.closes,p.costPerDM=p.inboundDMs>0?p.totalSpend/p.inboundDMs:0,p.costPerAcquisition=p.closes>0?p.totalSpend/p.closes:0,p.costPerMeeting=p.meetings>0?p.totalSpend/p.meetings:0,p.ctr=p.impressions>0?parseFloat((p.clicks/p.impressions*100).toFixed(2)):0,p.meetingToCloseRate=p.meetings>0?parseFloat((p.closes/p.meetings*100).toFixed(2)):0,p.dmToMeetingRate=p.inboundDMs>0?parseFloat((p.meetings/p.inboundDMs*100).toFixed(2)):0}),{...r,dailyData:v,campaigns:V,allCampaigns:ee,currentMetrics:{...r.currentMetrics,...ce},allCampaignsMetrics:{...r.allCampaignsMetrics,...X}}},y=c=>{s(g=>({...g,...c}))},I=c=>{try{if(c.isEdit){const{dailyData:g}=ae.saveManualEntry(c.date,{meetings:c.meetings,shows:c.shows,offersMade:c.offersMade,closes:c.closes,cashCollected:c.cashCollected,revenue:c.revenue,recurringRevenue:c.recurringRevenue||0,newRevenue:c.newRevenue,totalRevenue:c.totalRevenue}),j={dailyData:g,currentMetrics:me(g)};y(j),l(new Date)}else{const j=ae.getDailyData().find(J=>J.date===c.date),v={meetings:((j==null?void 0:j.meetings)||0)+(c.meetings||0),offersMade:((j==null?void 0:j.offersMade)||0)+(c.offersMade||0),closes:((j==null?void 0:j.closes)||0)+(c.closes||0),cashCollected:((j==null?void 0:j.cashCollected)||0)+(c.cashCollected||0),revenue:((j==null?void 0:j.revenue)||(j==null?void 0:j.totalRevenue)||0)+(c.revenue||0),recurringRevenue:c.recurringRevenue||0,newRevenue:((j==null?void 0:j.revenue)||(j==null?void 0:j.totalRevenue)||0)+(c.revenue||0),totalRevenue:((j==null?void 0:j.revenue)||(j==null?void 0:j.totalRevenue)||0)+(c.revenue||0)},{dailyData:V}=ae.saveManualEntry(c.date,v),ee={dailyData:V,currentMetrics:me(V)};y(ee),l(new Date)}}catch(g){console.error("Error saving manual entry:",g)}},F=()=>{l(new Date)},K=async c=>{try{const g=ae.bulkImportDailyData(c.dailyData,!0),j={...c,dailyData:g,currentMetrics:me(g),previousMetrics:r.previousMetrics},v=j.currentMetrics;j.funnelData=[{stage:"Impressions",value:v.impressions,percentage:100},{stage:"Clicks",value:v.clicks,percentage:v.impressions>0?v.clicks/v.impressions*100:0},{stage:"Inbound DMs",value:v.inboundDMs,percentage:v.clicks>0?v.inboundDMs/v.clicks*100:0},{stage:"Meetings",value:v.meetings,percentage:v.inboundDMs>0?v.meetings/v.inboundDMs*100:0},{stage:"Closes",value:v.closes,percentage:v.meetings>0?v.closes/v.meetings*100:0}],y(j),l(new Date)}catch(g){throw console.error("Error importing CSV data:",g),g}},k=()=>{ae.exportData()},{campaignDailyData:T}=r,C=w(),S=m&&C.allCampaignsMetrics||C.currentMetrics,O=m&&C.allCampaigns||C.campaigns,E=S.dmToMeetingRate||0,M=S.meetingToCloseRate||0,A=S.inboundDMs>0?parseFloat((S.closes/S.inboundDMs*100).toFixed(2)):0;return D?e.jsxs("div",{className:"min-h-screen bg-background p-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Instagram DM Ads Dashboard"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your service-based business performance"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs("select",{value:t,onChange:c=>a(c.target.value),className:"px-3 py-1 border border-border rounded-md text-sm bg-background text-foreground",children:[e.jsx("option",{value:"last24hours",children:"Last 24 Hours"}),e.jsx("option",{value:"last7days",children:"Last 7 Days"}),e.jsx("option",{value:"last30days",children:"Last 30 Days"}),e.jsx("option",{value:"monthToDate",children:"Month to Date"}),e.jsx("option",{value:"last3months",children:"Last 3 Months"})]}),e.jsx($t,{}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>d(!m),className:m?"bg-blue-50 border-blue-200":"",children:[m?e.jsx(ks,{className:"h-4 w-4 mr-1"}):e.jsx(Ms,{className:"h-4 w-4 mr-1"}),m?"All Campaigns":"Active Only"]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:F,children:[e.jsx(Rs,{className:"h-4 w-4 mr-1"}),"Refresh"]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>i(!0),children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),"Import CSV"]}),e.jsxs(U,{variant:"outline",size:"sm",onClick:k,children:[e.jsx(qe,{className:"h-4 w-4 mr-1"}),"Backup"]}),e.jsx("input",{type:"file",accept:".json",onChange:c=>{var j;const g=(j=c.target.files)==null?void 0:j[0];g&&ae.importData(g).then(()=>{const v=ae.loadData(),V={...ne,dailyData:v.dailyData,currentMetrics:me(v.dailyData)};s(V),l(new Date)}).catch(v=>{console.error("Error restoring backup:",v)}),c.target.value=""},style:{display:"none"},id:"backup-restore"}),e.jsxs(U,{variant:"outline",size:"sm",onClick:()=>{var c;return(c=document.getElementById("backup-restore"))==null?void 0:c.click()},children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),"Restore"]}),e.jsx(Ve,{onAuthChange:h})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",o.toLocaleString()]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Z,{title:"Cost Per Acquisition (CPA)",value:S.costPerAcquisition||0,format:"currency",icon:ye,subtitle:"The lifeblood of your ads",className:"border-2 border-green-500 bg-green-50",large:!0})}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[e.jsx(Z,{title:"Total Ad Spend",value:S.totalSpend,format:"currency",icon:xe,subtitle:`${t.replace(/([A-Z])/g," $1").toLowerCase()}`}),e.jsx(Z,{title:"Closes",value:S.closes||0,icon:ge,subtitle:`${A.toFixed(2)}% overall conversion rate`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[e.jsx(Z,{title:"Inbound DMs",value:S.inboundDMs||0,icon:He,subtitle:"Lead generation"}),e.jsx(Z,{title:"Meetings",value:S.meetings||0,icon:be,subtitle:`${E.toFixed(2)}% booking ratio`}),e.jsx(Z,{title:"Shows",value:S.shows||0,icon:be,subtitle:`${S.showRate?S.showRate.toFixed(2):0}% show rate`}),e.jsx(Z,{title:"Offers Made",value:S.offersMade||0,icon:ge,subtitle:`${S.meetings>0?(S.offersMade/S.meetings*100).toFixed(2):0}% offer rate`}),e.jsx(Z,{title:"Close Rate",value:M,format:"percentage",icon:ye,subtitle:"Meeting to close %"}),e.jsx(Z,{title:"Cash Collected",value:S.cashCollected||0,format:"currency",icon:xe,subtitle:"Total cash collected"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(Z,{title:"Total Revenue",value:S.revenue||S.totalRevenue||0,format:"currency",icon:xe,subtitle:"Full deal value"}),e.jsx(Z,{title:"ROAS (Return on Ad Spend)",value:S.totalSpend>0?(S.revenue||S.totalRevenue||0)/S.totalSpend:0,format:"decimal",icon:ge,subtitle:`${S.totalSpend>0?((S.revenue||S.totalRevenue||0)/S.totalSpend).toFixed(1):0}x return`})]}),e.jsx("div",{className:"w-full",children:e.jsx(Ft,{onDataSubmit:I})}),e.jsx("div",{className:"w-full",children:e.jsx(Lt,{campaigns:O,onCampaignClick:c=>b(c),showAllCampaigns:m})}),e.jsx("div",{className:"w-full",children:e.jsx(Dt,{data:C.dailyData,onDataUpdate:I,title:`Editable Manual Entry Data - ${t.replace(/([A-Z])/g," $1").toLowerCase()}`})}),e.jsx("div",{className:"text-center text-sm text-muted-foreground py-4",children:e.jsxs("p",{children:["This dashboard tracks Instagram DM ad performance for service-based businesses.",e.jsx("br",{}),"Import your Facebook Ads CSV data to replace sample data with real metrics."]})})]}),n&&e.jsx(Et,{onDataImport:K,onClose:()=>i(!1)}),u&&e.jsx(zt,{campaign:u,campaignDailyData:T?T[u.name]||[]:[],onClose:()=>b(null)})]}):e.jsx("div",{className:"min-h-screen bg-background p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Instagram DM Ads Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Please login or create an account to access your personalized dashboard"})]}),e.jsx(Ve,{onAuthChange:h})]})})};function Gt(){return e.jsx("div",{className:"App",children:e.jsx(Jt,{})})}Qe(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsxs(bt,{children:[e.jsx(Gt,{}),e.jsx(xt,{})]})}));
